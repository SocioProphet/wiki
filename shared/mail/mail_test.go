package mail

import (
	"testing"
)

func TestEmailValid(t *testing.T) {
	wrong := []string{"", "nope", "domain.com", "do@ub@le.com", "1234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456"}

	for _, email := range wrong {
		if EmailValid(email) {
			t.Fatalf("Email %v must not be valid", email)
		}
	}

	right := []string{"email@tld.com", "must@work", "also_012@working.com", "verylong901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678@ok.com"}

	for _, email := range right {
		if !EmailValid(email) {
			t.Fatalf("Email %v must be valid", email)
		}
	}
}
